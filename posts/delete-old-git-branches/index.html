<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content>
<title>Delete Old Git Branches | zf2timo dev notes</title>
<link rel=stylesheet href=/css/reset.css>
<link rel=stylesheet href=/css/font.css>
<link rel=stylesheet href=/css/smigle.css>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
</head>
<body>
<header>
<div id=brand>
<a class=icon-link href=https://zf2timo.github.io/>
<img class=icon src=/images/zf2timo.png>
</a>
<div class=text>
<a href=https://zf2timo.github.io/><h1>zf2timo dev notes</h1></a>
<h3>Some developer on the web</h3>
</div>
</div>
<nav>
</nav>
<hr>
</header>
<div id=content>
<main>
<article>
<h1>Delete Old Git Branches</h1>
<div class=post-meta>
<strong>
<span>Posted on</span>
<time>2017-01-16 18:42:54</time>
</strong>
<span> • 123 words</span>
<span> • 1 minute read</span>
</div>
<div><p>When working with git you should have to use branches. But over the time, there will be a lot of branches that aren&rsquo;t needed anymore.</p>
<p>To get rid of this waste, I created a script to delete them:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/usr/bin/env bash
</span><span style=color:#75715e></span>
BRANCHES<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>git branch --merged | grep -v <span style=color:#e6db74>&#34;\*&#34;</span> | grep -v <span style=color:#e6db74>&#34;master&#34;</span> | grep -v <span style=color:#e6db74>&#34;develop&#34;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>

<span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -z $BRANCHES <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
    echo <span style=color:#e6db74>&#34;No branch can deleted safely&#34;</span>
    exit 1;
<span style=color:#66d9ef>fi</span>

echo <span style=color:#e6db74>&#34;The following branches will be deleted:&#34;</span>
echo $BRANCHES
echo <span style=color:#e6db74>&#34;Are you sure? (y or n)&#34;</span>
read ANSWER

<span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $ANSWER <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;y&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
    echo $BRANCHES | xargs -n <span style=color:#ae81ff>1</span> git branch -d
<span style=color:#66d9ef>fi</span>
</code></pre></div><p>It selects all branches which are merged into master branch and after a confirmation, they will be deleted.</p>
</div>
</article>
</main>
</div>
<footer>
<hr>
<p id=social>
Find me around the web:
<br>
<a href=https://github.com/zf2timo>GitHub</a>
|
<a href=https://twitter.com/zf2timo>Twitter</a>
</p>
<p class=copyright>
Copyright © 2021
<a href=https://zf2timo.github.io/><strong>zf2timo</strong></a>.
This work is licensed under the
<a href=http://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA 4.0</a> license.
</p>
<p class=builtWith>
Built with
<a href=http://www.gohugo.io/>Hugo</a>,
using the theme
<a href=https://gitlab.com/ian-s-mcb/smigle-hugo-theme>smigle</a>,
which was influenced by the theme
<a href=https://github.com/sumnerevans/smol>smol</a>.
</p>
</footer>
</body>
</html>